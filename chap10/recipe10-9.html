<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Promises</title>
    <script>
      var test = new Promise(function(resolve, reject) {
         var req = new XMLHttpRequest();

         req.open('GET', 'http://examples.burningbird.net:8080');
         req.onload = function () {
           if (req.status == 200) {
              resolve(req.response);
           } else {
              reject(req.statusText);
           }
         };

         req.onerror = function() {
           reject("network error");
         };

         req.send();
       });

      test.then(
         function(response) {
            console.log("Response is ", response);
         }, function (error) {
            console.error("Request failed: ", error);
         });
    </script>
  </head>
  <body>
  </body>
</html>

